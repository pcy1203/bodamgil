<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <title>회원가입</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
	{% include "metatag.html" %}
    <style>
  		@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap');
	  </style> 
    <link rel="stylesheet" href="/css/main/signup.css">
	{% include "common.html" %}
  </head>
  <body>
    <div id="container">
	  {% include "menu/navigationbar.html" %}
	  <div class="contents">
	  <div class="block-1">
	  {% include "main/contract.html" %}
	  </div>
	  <div class="block-2">
        <span class="contract">정보입력</span>
          <form action="/auth/signup" method="post" id="joinForm">
		    <div class="field">
              <span class="emailcontext">이메일 주소</span>
		      <input id="email" type="email" name="email" require autofocus maxlength="40" placeholder="아이디를 입력해주세요">
	          <p>※ 이메일 형식에 맞추어서 적어주세요.</p>
		    </div>
			<div class="field">
			  <span class="passwordcontext">비밀번호</span>
			  <input id="password" type="password" name="password" require minlength="8" maxlength="20" placeholder="비밀번호를 입력해주세요 (영문, 숫자, 특수문자 포함 8~20자)">
			  <p>※ 영문, 숫자, 특수문자 포함 8자 이상 입력해주세요.</p>
			</div>
			<div class="field">
			  <span class="confirmcontext">비밀번호 확인</span>
			  <input id="confirm" type="password" name="confirm" require minlength="8" maxlength="20" placeholder="비밀번호를 한 번 더 입력해주세요">
		      <p>※ 비밀번호를 다시 확인해주세요.</p>
			</div>
			<div class="field">
			  <span class="namecontext">이름</span>
			  <input id="name" type="text" name="name" require maxlength="20" placeholder="이름을 입력해주세요 (최대 20자)">
			  <p>※ 20자 이내로 작성해주세요.</p>
			</div>
			<div class="field">
			  <span class="telcontext">전화번호</span>
			  <input id="tel" name="tel" require maxlength="13" placeholder="전화번호를 입력해주세요 (-까지 입력)" pattern="[0-9]{2,3}-[0-9]{3,4}-[0-9]{4}">
			  <p>※ 전화번호 양식에 맞추어서 작성해주세요. (-까지 작성)</p>
			</div>
			<div class="fieldgender field">
			  <span class="gendercontext">성별</span>
			  <select name="gender" id="gender">    
				<option value="man">남자</option>
				<option value="woman">여자</option>
			  </select>
			  <p></p>
			</div>
			<div class="fieldbirth field">
			  <span class="birthcontext">생년월일</span>
			  <div class="birth">
				  <select name="birthyear" class="box" id="birthyear">
					<option disabled selected>년도</option>
					  {% for i in range(2023, 1899, -1) %}
						<option value="{{ i }}">{{ i }}년</option>
					  {% endfor %}
				  </select>
				  <select name="birthmonth" class="box" id="birthmonth">
					<option disabled selected>월</option>
					  {% for i in range(1, 13) %}
						<option value="{{ i }}">{{ i }}월</option>
					  {% endfor %}
				  </select>
				  <select name="birthday" class="box" id="birthday">
					<option disabled selected>일</option>
					  {% for i in range(1, 32) %}
						<option value="{{ i }}">{{ i }}일</option>
					  {% endfor %}
				  </select>
				  <p>※ 유효한 날짜를 선택해주세요.</p>
				</div>
			</div>
			<button class="fpmgBt">가입완료</button>
	      </form>
	    </div>
	  </div>
	  </div>
	{% include "menu/menu.html" %}
  </body>
<script defer>
  exports = {};
</script>
<script defer src="/js/uservalidation.js"></script>
<script defer src="/js/userinputvalidation.js"></script>
<script>
  window.onload = () => {
	let message = (new URLSearchParams(location.search)).get('message');
    
	if (message) {
	  switch (message) {
		case 'emailError':
		  alert('잘못된 이메일 주소 형식입니다!');
		  break;
		case 'passwordError':
		  alert('잘못된 비밀번호 형식입니다!');
		  break;
		case 'telError':
		  alert('잘못된 전화번호 형식입니다!');
		  break;
		case 'nameError':
		  alert('잘못된 이름 형식입니다!');
		  break;
		case 'birthError':
		  alert('잘못된 생년월일 형식입니다!');
		  break;
		case 'existUserError':
		  alert('동일한 이메일 주소로 가입한 유저가 존재합니다!');
		  break;
		case 'passwordConfirmError':
		  alert('비밀번호를 다시 확인해주세요!');
		  break;
		case 'existSameTelError':
		  alert('동일한 전화번호로 가입한 유저가 존재합니다!');
		  break;
	  }
	}
  };  
</script>
</html>