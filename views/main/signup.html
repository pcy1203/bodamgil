<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <title>회원가입</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
  		@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap');
	  </style> 
    <link rel="stylesheet" href="../../css/main/signup.css">
    <link rel="stylesheet" href="../../css/menu/navigationbar.css">
    <link rel="stylesheet" href="../../css/menu/menu.css">
  </head>
  <body>
    <div id="container">
	  {% include "menu/navigationbar.html" %}
	  <div class="contents">
	  <div class="block-1">
        <span class="contract">이용약관 동의</span>
        <p class="contract_context">서비스 이용을 위하여 필수 약관 동의가 필요합니다.</p>
        <form id="checkForm">
          <ul class="join_box">
            <li class="checkBox check01">
              <ul class="clearfix">
                <li>모두 동의합니다.</li>
                <li class="checkAllBtn">
                  <input type="checkbox" name="chkAll" id="chk" class="chkAll">
                </li>
              </ul>
            </li>
            <li class="checkBox check02">
              <ul class="clearfix">
                <li>보담길 이용약관 동의(필수)</li>
                <li class="checkBtn necessary">
                  <input type="checkbox" name="chk"> 
                </li>
              </ul>
              <textarea>여러분을 환영합니다. 네이버 서비스 및 제품(이하 ‘서비스’)을 이용해 주셔서 감사합니다. 본 약관은 다양한 네이버 서비스의 이용과 관련하여 네이버 서비스를 제공하는 네이버 주식회사(이하 ‘네이버’)와 이를 이용하는 네이버 서비스 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 네이버 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.</textarea>
            </li>
            <li class="checkBox check03">
              <ul class="clearfix">
                <li>개인정보 수집 및 이용동의(필수)</li>
                <li class="checkBtn necessary">
                  <input type="checkbox" name="chk">
                </li>
              </ul>
              <textarea>여러분을 환영합니다.네이버 서비스 및 제품(이하 ‘서비스’)을 이용해 주셔서 감사합니다. 본 약관은 다양한 네이버 서비스의 이용과 관련하여 네이버 서비스를 제공하는 네이버 주식회사(이하 ‘네이버’)와 이를 이용하는 네이버 서비스 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 네이버 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.</textarea>
            </li>
            <li class="checkBox check03">
              <ul class="clearfix">
                <li>마케팅 정보 알림 수신 동의(선택)</li>
                <li class="checkBtn">
                  <input type="checkbox" name="chk">
                </li>
              </ul>
              <textarea>여러분을 환영합니다.네이버 서비스 및 제품(이하 ‘서비스’)을 이용해 주셔서 감사합니다. 본 약관은 다양한 네이버 서비스의 이용과 관련하여 네이버 서비스를 제공하는 네이버 주식회사(이하 ‘네이버’)와 이를 이용하는 네이버 서비스 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 네이버 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.</textarea>
            </li>
          </ul>
          <ul class="footBtwrap clearfix">
            <li><button class="fpmgBt1">비동의</button></li>
            <li><button class="fpmgBt2">동의</button></li>
          </ul>
        </form>
	  </div>
	  <div class="block-2">
        <span class="contract">정보입력</span>
          <form action="/auth/signup" method="post" id="joinForm">
		    <div class="field">
              <span class="emailcontext">이메일 주소</span>
		      <input id="email" type="email" name="email" require autofocus maxlength="40" placeholder="아이디를 입력해주세요">
	          <p>※ 이메일 형식에 맞추어서 적어주세요.</p>
		    </div>
			<div class="field">
			  <span class="passwordcontext">비밀번호</span>
			  <input id="password" type="password" name="password" require minlength="8" maxlength="20" placeholder="비밀번호를 입력해주세요 (영문, 숫자, 특수문자 포함 8~20자)">
			  <p>※ 영문, 숫자, 특수문자 포함 8자 이상 입력해주세요.</p>
			</div>
			<div class="field">
			  <span class="confirmcontext">비밀번호 확인</span>
			  <input id="confirm" type="password" name="confirm" require minlength="8" maxlength="20" placeholder="비밀번호를 한 번 더 입력해주세요">
		      <p>※ 비밀번호를 다시 확인해주세요.</p>
			</div>
			<div class="field">
			  <span class="namecontext">이름</span>
			  <input id="name" type="text" name="name" require maxlength="20" placeholder="이름을 입력해주세요 (최대 20자)">
			  <p>※ 20자 이내로 작성해주세요.</p>
			</div>
			<div class="field">
			  <span class="telcontext">전화번호</span>
			  <input id="tel" name="tel" require maxlength="13" placeholder="전화번호를 입력해주세요 (-까지 입력)" pattern="[0-9]{2,3}-[0-9]{3,4}-[0-9]{4}">
			  <p>※ 전화번호 양식에 맞추어서 작성해주세요. (-까지 작성)</p>
			</div>
			<div class="fieldgender field">
			  <span class="gendercontext">성별</span>
			  <select name="gender" id="gender">    
				<option value="man">남자</option>
				<option value="woman">여자</option>
			  </select>
			  <p></p>
			</div>
			<div class="fieldbirth field">
			  <span class="birthcontext">생년월일</span>
			  <div class="birth">
				  <select name="birthyear" class="box" id="birthyear">
					<option disabled selected>년도</option>
					  {% for i in range(1900, 2024) %}
						<option value="{{ i }}">{{ i }}년</option>
					  {% endfor %}
				  </select>
				  <select name="birthmonth" class="box" id="birthmonth">
					<option disabled selected>월</option>
					  {% for i in range(1, 13) %}
						<option value="{{ i }}">{{ i }}월</option>
					  {% endfor %}
				  </select>
				  <select name="birthday" class="box" id="birthday">
					<option disabled selected>일</option>
					  {% for i in range(1, 32) %}
						<option value="{{ i }}">{{ i }}일</option>
					  {% endfor %}
				  </select>
				  <p>※ 유효한 날짜를 선택해주세요.</p>
				</div>
			</div>
			<button class="fpmgBt">가입완료</button>
	      </form>
	    </div>
	  </div>
	  </div>
	{% include "menu/menu.html" %}
  </body>
<script defer>
  exports = {};
</script>
<script defer src="../../js/uservalidation.js"></script>
<script defer src="../../js/userinputvalidation.js"></script>
<script>
  window.onload = () => {
	let message = (new URLSearchParams(location.search)).get('message');

	if (message) {
	  switch (message) {
		case 'nameError':
		  alert('잘못된 이름 형식입니다!');
		  break;
		case 'genderError':
		  alert('성별을 선택해주세요!');
		  break;
		case 'birthError':
		  alert('잘못된 생년월일 형식입니다!');
		  break;
	  }
	}
  };  

  document.querySelector('#checkForm').addEventListener("submit", (e) => {
    e.preventDefault();
  });
	
  document.querySelector('.fpmgBt1').addEventListener("click", (e) => {
    alert("이용약관 비동의 시 서비스 이용이 제한됩니다.");
  });
	
  const checkButtons = document.querySelectorAll('.checkBtn input');
  const necessaryButtons = document.querySelectorAll('.checkBtn.necessary input');
  const checkAllButton = document.querySelector('.checkAllBtn input');
	
  let allChecked = false;
  let necessaryChecked = false;
  const isAllChecked = () => {
	allChecked = true;
	checkButtons.forEach((button) => {
	  if (!button.checked) allChecked = false;
	});
  };
  const isNecessaryChecked = () => {
	necessaryChecked = true;
	necessaryButtons.forEach((button) => {
	  if (!button.checked) necessaryChecked = false;
	});
  }
	
  document.querySelector('.fpmgBt2').addEventListener("click", (e) => {
	isNecessaryChecked();
	if (!necessaryChecked) {
	  alert("이용약관에 모두 동의해주세요!");
	} else {
	  document.querySelector('.block-1').style.display = 'none';
	  document.querySelector('.block-2').style.display = 'block';
	}
  });
	
  checkAllButton.addEventListener("click", (e) => {
    checkButtons.forEach((button) => {
	  button.checked = checkAllButton.checked;
    });
	allChecked = checkAllButton.checked;
  });
	
  checkButtons.forEach((button) => {
	button.addEventListener("click", (e) => {
	  isAllChecked();
	  checkAllButton.checked = allChecked;
	})
  });
</script>
</html>